<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Wiki Pages</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.11"></script>
</head>
<body class="bg-zinc-900 ">
    <h1 class="text-3xl text-gray-200 font-bold m-4">All Wiki Pages</h1>
    <div class="flex justify-between w-1/4 mx-4 pl-2 my-2">
        <input class="rounded border border-4 border-orange-400" name="search" type="text" hx-get="/" hx-trigger="input changed delay:100ms" hx-target="#results" hx-params="*" hx-select="#results" hx-swap="outerHTML">
        {{if .IsAdmin}}
            <a href="/create" class="text-gray-200 text-2xl hover:bg-zinc-800 px-2 rounded">&#10753;</a>
        {{end}}
    </div>

    <div id="results">
        {{range .List}}
        <div class="flex justify-between w-1/4 mx-4 my-2">
            <a href="/view/{{.Title}}" class="text-gray-200  text-xl font-bold underline hover:bg-zinc-800 px-2 rounded">{{.Title}}</a>
            {{if $.IsAdmin}}
                <a href="/delete/{{.Title}}" class=" hover:bg-zinc-800 px-2 rounded" > &#x1F5D1;</a>
            {{end}}
        </div>
        {{else}}
        <div class="flex justify-between w-1/4 mx-4 my-2">

            <p class="text-gray-200 px-2">No wiki articles found</p>
        </div>
        {{end}} 
    </div>
    
</body>
</html>
